
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta name="viewport" content="target-densitydpi=device-dpi, width = 540, user-scalable = 0" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
        <title>Simple IR World</title>
        <link rel="stylesheet" href="../../../www/css/master.css" />
        
        <!-- Include the ARchitect library -->
        <script src="architect://architect.js"></script>

        <script>
            /* Global variables */
            var logoTracker = null;
            var overlay = null;
            var trackable2DObject = null;
            var errorOccured = false;
            //var masterAnimationGroup  = null;

            function error() {
                errorOccured = true;
                document.getElementById("messageElement").innerHTML = "Unable to load image or tracker!";
            }

            function createTracker(){

                // create tracker 
                trackerDataSetPath = "WikitudeLogo.zip";
                logoTracker = new AR.Tracker(trackerDataSetPath, { onLoaded : trackerLoaded, onError: error });
                
                var htmlDW = new AR.HtmlDrawable({uri:"molecule.html"}, 2, {viewportWidth:512, updateRate:AR.HtmlDrawable.UPDATE_RATE.HIGH, clickThroughEnabled:true});

                trackable2DObject = new AR.Trackable2DObject(logoTracker, "WikitudeLogo", { drawables: { cam: [htmlDW] }});

                // we need to pack the arrow animations into a parallel animation group to play them synchronisly
                //masterAnimationGroup = new AR.AnimationGroup(AR.CONST.ANIMATION_GROUP_TYPE.PARALLEL, [ arrow1[1], arrow2[1], arrow3[1], arrow4[1] ]);
            }

            function trackerLoaded()
            {
                if (errorOccured) return;

                document.getElementById("messageElement").style.display = "none";

                // start with the parameter -1 indicates, that the group will play the animation in an infinite loop
                //masterAnimationGroup.start(-1);
            }
            function clickedClose() {
                document.location = 'architectsdk://actionButton?action=close';
            }

            function clickedHide() {
                document.location = 'architectsdk://hideButton?status=hide';
            }


        </script>
    </head>

    <body>
        <!-- *** APP HEADERS AND FOOTER CSS *** -->
        <div id="main" class="abs">
            <div class="abs header_upper chrome_dark">
                Aree Framework Demo
            </div>
            <div class="abs header_lower chrome_light">
                Server not contacted so far.
            </div>
            <div class="abs footer_lower chrome_light">
                <a href="javascript:prepServerChemistry();" class="float_left button">Prepare Server for Chemistry</a>
                <a href="#" class="float_left button">Prepare Server for synthesis reactions</a>	
            </div>
        </div>

        <script>
            createTracker();
        </script>

    </body>
</html>